<!DOCTYPE html>
<html>
<head>
<title>
Dashboard
</title>

</head>
<body>
  <div id="test"></div>
  
  <div id="graphs"></div>
  
  <script src="//code.jquery.com/jquery-1.11.3.min.js" ></script>
  <script src="//cdn.jsdelivr.net/g/jqplot@1.0.8(jquery.jqplot.min.js+plugins/jqplot.barRenderer.min.js+plugins/jqplot.blockRenderer.min.js+plugins/jqplot.pieRenderer.min.js+plugins/jqplot.trendline.min.js+plugins/jqplot.BezierCurveRenderer.min.js+plugins/jqplot.bubbleRenderer.min.js+plugins/jqplot.canvasAxisLabelRenderer.min.js+plugins/jqplot.canvasAxisTickRenderer.min.js+plugins/jqplot.canvasOverlay.min.js+plugins/jqplot.canvasTextRenderer.min.js+plugins/jqplot.categoryAxisRenderer.min.js+plugins/jqplot.ciParser.min.js+plugins/jqplot.cursor.min.js+plugins/jqplot.dateAxisRenderer.min.js+plugins/jqplot.donutRenderer.min.js+plugins/jqplot.dragable.min.js+plugins/jqplot.enhancedLegendRenderer.min.js+plugins/jqplot.funnelRenderer.min.js+plugins/jqplot.highlighter.min.js+plugins/jqplot.json2.min.js+plugins/jqplot.logAxisRenderer.min.js+plugins/jqplot.mekkoAxisRenderer.min.js+plugins/jqplot.mekkoRenderer.min.js+plugins/jqplot.meterGaugeRenderer.min.js+plugins/jqplot.mobile.min.js+plugins/jqplot.ohlcRenderer.min.js+plugins/jqplot.pointLabels.min.js+plugins/jqplot.pyramidAxisRenderer.min.js+plugins/jqplot.pyramidGridRenderer.min.js+plugins/jqplot.pyramidRenderer.min.js)">
  </script>
  <script>
    
    // Ce qui vient comme json.. je peux le coller directement dans js
    my_input = [
	{
		'shortname' : '101-901-RE-10-03',
		'name' : '4',
		'etudiants' : 31,
		'idnumber' : '101901RE-10-03_4'
	},
	{
		'shortname' : '101-901-RE-10-03',
		'name' : '5',
		'etudiants' : 11,
		'idnumber' : '101901RE-10-03_5'
	},
	{
		'shortname' : '101-901-RE-10-03',
		'name' : '6',
		'etudiants' : 47,
		'idnumber' : '101901RE-10-03_6'
	},
	{
		'shortname' : '105-FPF-03-60-01',
		'name' : '2',
		'etudiants' : 6,
		'idnumber' : '105FPF03-60-01_2'
	},
	{
		'shortname' : '105-FPF-03-60-01',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '105FPF03-60-01_9999'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : '10',
		'etudiants' : 2,
		'idnumber' : '201NYA05-70-01_10'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : '11',
		'etudiants' : 1,
		'idnumber' : '201NYA05-70-01_11'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : '12',
		'etudiants' : 1,
		'idnumber' : '201NYA05-70-01_12'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : '13',
		'etudiants' : 1,
		'idnumber' : '201NYA05-70-01_13'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : '8',
		'etudiants' : 2,
		'idnumber' : '201NYA05-70-01_8'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : '9',
		'etudiants' : 2,
		'idnumber' : '201NYA05-70-01_9'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '201NYA05-70-01_9999'
	},
	{
		'shortname' : '201-NYA-05-70-01',
		'name' : 'Groupe 1',
		'etudiants' : 0,
		'idnumber' : '1'
	},
	{
		'shortname' : '201-NYB-05-70-02',
		'name' : '6',
		'etudiants' : 0,
		'idnumber' : '201NYB05-70-02_6'
	},
	{
		'shortname' : '201-NYB-05-70-02',
		'name' : '7',
		'etudiants' : 0,
		'idnumber' : '201NYB05-70-02_7'
	},
	{
		'shortname' : '201-NYB-05-70-02',
		'name' : '8',
		'etudiants' : 0,
		'idnumber' : '201NYB05-70-02_8'
	},
	{
		'shortname' : '201-NYB-05-70-02',
		'name' : 'Groupe 1',
		'etudiants' : 0,
		'idnumber' : '1'
	},
	{
		'shortname' : '203-FPG-03-60-01',
		'name' : '3',
		'etudiants' : 3,
		'idnumber' : '203FPG03-60-01_3'
	},
	{
		'shortname' : '203-FPG-03-60-01',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '203FPG03-60-01_9999'
	},
	{
		'shortname' : '300-300-RE-70-01',
		'name' : '3',
		'etudiants' : 4,
		'idnumber' : '300300RE-70-01_3'
	},
	{
		'shortname' : '300-300-RE-70-01',
		'name' : '4',
		'etudiants' : 3,
		'idnumber' : '300300RE-70-01_4'
	},
	{
		'shortname' : '300-300-RE-70-01',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '300300RE-70-01_9999'
	},
	{
		'shortname' : '300-300-RE-70-01',
		'name' : 'Groupe 1',
		'etudiants' : 0,
		'idnumber' : '1'
	},
	{
		'shortname' : '320-103-FD-60-02',
		'name' : '3',
		'etudiants' : 5,
		'idnumber' : '320103FD-60-02_3'
	},
	{
		'shortname' : '320-103-FD-60-02',
		'name' : '4',
		'etudiants' : 4,
		'idnumber' : '320103FD-60-02_4'
	},
	{
		'shortname' : '320-103-FD-60-02',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '320103FD-60-02_9999'
	},
	{
		'shortname' : '322-704-RL-60-01',
		'name' : '1',
		'etudiants' : 5,
		'idnumber' : '322704RL-60-01_1'
	},
	{
		'shortname' : '322-704-RL-60-01',
		'name' : '2',
		'etudiants' : 4,
		'idnumber' : '322704RL-60-01_2'
	},
	{
		'shortname' : '322-704-RL-60-01',
		'name' : '3',
		'etudiants' : 4,
		'idnumber' : '322704RL-60-01_3'
	},
	{
		'shortname' : '322-704-RL-60-01',
		'name' : '4',
		'etudiants' : 4,
		'idnumber' : '322704RL-60-01_4'
	},
	{
		'shortname' : '322-743-RL-80-03',
		'name' : '4',
		'etudiants' : 0,
		'idnumber' : '322743RL-80-03_4'
	},
	{
		'shortname' : '322-743-RL-80-03',
		'name' : '5',
		'etudiants' : 0,
		'idnumber' : '322743RL-80-03_5'
	},
	{
		'shortname' : '322-743-RL-80-03',
		'name' : '6',
		'etudiants' : 0,
		'idnumber' : '322743RL-80-03_6'
	},
	{
		'shortname' : '322-783-RL-80-01',
		'name' : '4',
		'etudiants' : 2,
		'idnumber' : '322783RL-80-01_4'
	},
	{
		'shortname' : '322-783-RL-80-01',
		'name' : '5',
		'etudiants' : 2,
		'idnumber' : '322783RL-80-01_5'
	},
	{
		'shortname' : '322-783-RL-80-01',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '322783RL-80-01_9999'
	},
	{
		'shortname' : '330-203-FD-60-01',
		'name' : '100',
		'etudiants' : 0,
		'idnumber' : '330203FD-60-01_100'
	},
	{
		'shortname' : '330-203-FD-60-01',
		'name' : '3',
		'etudiants' : 0,
		'idnumber' : '330203FD-60-01_3'
	},
	{
		'shortname' : '340-102-MQ-60-02',
		'name' : '10',
		'etudiants' : 6,
		'idnumber' : '340102MQ-60-02_10'
	},
	{
		'shortname' : '340-102-MQ-60-02',
		'name' : '11',
		'etudiants' : 6,
		'idnumber' : '340102MQ-60-02_11'
	},
	{
		'shortname' : '340-102-MQ-60-02',
		'name' : '12',
		'etudiants' : 6,
		'idnumber' : '340102MQ-60-02_12'
	},
	{
		'shortname' : '340-102-MQ-60-02',
		'name' : '13',
		'etudiants' : 6,
		'idnumber' : '340102MQ-60-02_13'
	},
	{
		'shortname' : '340-102-MQ-60-02',
		'name' : '14',
		'etudiants' : 5,
		'idnumber' : '340102MQ-60-02_14'
	},
	{
		'shortname' : '340-102-MQ-60-02',
		'name' : '8',
		'etudiants' : 6,
		'idnumber' : '340102MQ-60-02_8'
	},
	{
		'shortname' : '340-102-MQ-60-02',
		'name' : '9',
		'etudiants' : 6,
		'idnumber' : '340102MQ-60-02_9'
	},
	{
		'shortname' : '340-FPA-FD-60-02',
		'name' : '1',
		'etudiants' : 3,
		'idnumber' : '340FPAFD-60-02_1'
	},
	{
		'shortname' : '340-FPA-FD-60-02',
		'name' : '2',
		'etudiants' : 3,
		'idnumber' : '340FPAFD-60-02_2'
	},
	{
		'shortname' : '340-FPA-FD-60-02',
		'name' : '3',
		'etudiants' : 2,
		'idnumber' : '340FPAFD-60-02_3'
	},
	{
		'shortname' : '340-FPA-FD-60-02',
		'name' : '4',
		'etudiants' : 2,
		'idnumber' : '340FPAFD-60-02_4'
	},
	{
		'shortname' : '340-FPA-FD-60-02',
		'name' : '5',
		'etudiants' : 2,
		'idnumber' : '340FPAFD-60-02_5'
	},
	{
		'shortname' : '340-FPA-FD-60-02',
		'name' : '6',
		'etudiants' : 2,
		'idnumber' : '340FPAFD-60-02_6'
	},
	{
		'shortname' : '360-300-RE-10-03',
		'name' : '10',
		'etudiants' : 0,
		'idnumber' : '360300RE-10-03_10'
	},
	{
		'shortname' : '360-300-RE-10-03',
		'name' : '11',
		'etudiants' : 0,
		'idnumber' : '360300RE-10-03_11'
	},
	{
		'shortname' : '360-300-RE-10-03',
		'name' : '12',
		'etudiants' : 0,
		'idnumber' : '360300RE-10-03_12'
	},
	{
		'shortname' : '360-300-RE-10-03',
		'name' : '13',
		'etudiants' : 0,
		'idnumber' : '360300RE-10-03_13'
	},
	{
		'shortname' : '360-300-RE-10-03',
		'name' : '8',
		'etudiants' : 0,
		'idnumber' : '360300RE-10-03_8'
	},
	{
		'shortname' : '360-300-RE-10-03',
		'name' : '9',
		'etudiants' : 0,
		'idnumber' : '360300RE-10-03_9'
	},
	{
		'shortname' : '360-FDR-FD-60-03',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '360FDRFD-60-03_2'
	},
	{
		'shortname' : '381-103-FD-80-01',
		'name' : '100',
		'etudiants' : 0,
		'idnumber' : '381103FD-80-01_100'
	},
	{
		'shortname' : '381-103-FD-80-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '381103FD-80-01_2'
	},
	{
		'shortname' : '383-204-FD-60-03',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '383204FD-60-03_2'
	},
	{
		'shortname' : '383-303-FD-50-01',
		'name' : '3',
		'etudiants' : 0,
		'idnumber' : '383303FD-50-01_3'
	},
	{
		'shortname' : '385-203-FD-60-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '385203FD-60-01_2'
	},
	{
		'shortname' : '387-103-FD-60-01',
		'name' : '100',
		'etudiants' : 0,
		'idnumber' : '387103FD-60-01_100'
	},
	{
		'shortname' : '387-103-FD-60-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '387103FD-60-01_2'
	},
	{
		'shortname' : '401-103-FD-80-02',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '401103FD-80-02_2'
	},
	{
		'shortname' : '401-203-FD-60-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '401203FD-60-01_2'
	},
	{
		'shortname' : '401-435-FD-80-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '401435FD-80-01_2'
	},
	{
		'shortname' : '410-123-FD-80-02',
		'name' : '4',
		'etudiants' : 18,
		'idnumber' : '410123FD-80-02_4'
	},
	{
		'shortname' : '410-123-FD-80-02',
		'name' : '5',
		'etudiants' : 17,
		'idnumber' : '410123FD-80-02_5'
	},
	{
		'shortname' : '410-123-FD-80-02',
		'name' : '6',
		'etudiants' : 27,
		'idnumber' : '410123FD-80-02_6'
	},
	{
		'shortname' : '410-123-FD-80-02',
		'name' : '7',
		'etudiants' : 12,
		'idnumber' : '410123FD-80-02_7'
	},
	{
		'shortname' : '410-123-FD-80-02',
		'name' : '8',
		'etudiants' : 2,
		'idnumber' : '410123FD-80-02_8'
	},
	{
		'shortname' : '410-214-FD-60-01',
		'name' : '5',
		'etudiants' : 0,
		'idnumber' : '410214FD-60-01_5'
	},
	{
		'shortname' : '410-214-FD-60-01',
		'name' : '6',
		'etudiants' : 0,
		'idnumber' : '410214FD-60-01_6'
	},
	{
		'shortname' : '410-214-FD-60-01',
		'name' : '7',
		'etudiants' : 0,
		'idnumber' : '410214FD-60-01_7'
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'Cours-groupe 1',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'Cours-groupe 2',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'G1-E1-D2-JJ-MM-AAAA à JJ-MM-AAAA',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'G1-E1-D3-JJ-MM-AAAA à JJ-MM-AAAA',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'G1-E1-D4-JJ-MM-AAAA à JJ-MM-AAAA',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'G2-E1-D2-JJ-MM-AAAA à JJ-MM-AAAA',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'G2-E1-D3-JJ-MM-AAAA à JJ-MM-AAAA',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-223-FD-60-01',
		'name' : 'G2-E1-D4-JJ-MM-AAAA à JJ-MM-AAAA',
		'etudiants' : 0,
		'idnumber' : ''
	},
	{
		'shortname' : '410-233-FD-60-03',
		'name' : '3',
		'etudiants' : 0,
		'idnumber' : '410233FD-60-03_3'
	},
	{
		'shortname' : '410-233-FD-60-03',
		'name' : '4',
		'etudiants' : 0,
		'idnumber' : '410233FD-60-03_4'
	},
	{
		'shortname' : '410-303-FD-60-02',
		'name' : '3',
		'etudiants' : 0,
		'idnumber' : '410303FD-60-02_3'
	},
	{
		'shortname' : '410-303-FD-60-02',
		'name' : '4',
		'etudiants' : 0,
		'idnumber' : '410303FD-60-02_4'
	},
	{
		'shortname' : '410-413-FD-60-02',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '410413FD-60-02_2'
	},
	{
		'shortname' : '410-430-FD-80-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '410430FD-80-01_2'
	},
	{
		'shortname' : '410-533-FD-60-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '410533FD-60-01_2'
	},
	{
		'shortname' : '410-543-FD-60-01',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '410543FD-60-01_2'
	},
	{
		'shortname' : '410-664-FD-60-02',
		'name' : '2',
		'etudiants' : 0,
		'idnumber' : '410664FD-60-02_2'
	},
	{
		'shortname' : '410-664-FD-60-02',
		'name' : '3',
		'etudiants' : 0,
		'idnumber' : '410664FD-60-02_3'
	},
	{
		'shortname' : '504-FPG-03-80-03',
		'name' : '3',
		'etudiants' : 5,
		'idnumber' : '504FPG03-80-03_3'
	},
	{
		'shortname' : '504-FPG-03-80-03',
		'name' : '4',
		'etudiants' : 2,
		'idnumber' : '504FPG03-80-03_4'
	},
	{
		'shortname' : '504-FPG-03-80-03',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '504FPG03-80-03_9999'
	},
	{
		'shortname' : '601-013-50-60-01',
		'name' : '3',
		'etudiants' : 0,
		'idnumber' : '60101350-60-01_3'
	},
	{
		'shortname' : '601-013-50-60-01',
		'name' : '4',
		'etudiants' : 0,
		'idnumber' : '60101350-60-01_4'
	},
	{
		'shortname' : '601-101-MQ-60-01',
		'name' : '10',
		'etudiants' : 0,
		'idnumber' : '601101MQ-60-01_10'
	},
	{
		'shortname' : '601-101-MQ-60-01',
		'name' : '7',
		'etudiants' : 0,
		'idnumber' : '601101MQ-60-01_7'
	},
	{
		'shortname' : '601-101-MQ-60-01',
		'name' : '8',
		'etudiants' : 0,
		'idnumber' : '601101MQ-60-01_8'
	},
	{
		'shortname' : '601-101-MQ-60-01',
		'name' : '9',
		'etudiants' : 0,
		'idnumber' : '601101MQ-60-01_9'
	},
	{
		'shortname' : '601-102-MQ-60-02',
		'name' : '10',
		'etudiants' : 6,
		'idnumber' : '601102MQ-60-02_10'
	},
	{
		'shortname' : '601-102-MQ-60-02',
		'name' : '11',
		'etudiants' : 0,
		'idnumber' : '601102MQ-60-02_11'
	},
	{
		'shortname' : '601-102-MQ-60-02',
		'name' : '12',
		'etudiants' : 13,
		'idnumber' : '601102MQ-60-02_12'
	},
	{
		'shortname' : '601-102-MQ-60-02',
		'name' : '7',
		'etudiants' : 7,
		'idnumber' : '601102MQ-60-02_7'
	},
	{
		'shortname' : '601-102-MQ-60-02',
		'name' : '8',
		'etudiants' : 8,
		'idnumber' : '601102MQ-60-02_8'
	},
	{
		'shortname' : '601-102-MQ-60-02',
		'name' : '9',
		'etudiants' : 7,
		'idnumber' : '601102MQ-60-02_9'
	},
	{
		'shortname' : '601-102-MQ-60-02',
		'name' : '9999',
		'etudiants' : 0,
		'idnumber' : '601102MQ-60-02_9999'
	},
	{
		'shortname' : '601-102-MQ-64-02',
		'name' : '2',
		'etudiants' : 5,
		'idnumber' : '601102MQ-64-02_2'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '16',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_16'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '17',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_17'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '18',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_18'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '19',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_19'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '20',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_20'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '21',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_21'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '22',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_22'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '23',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_23'
	},
	{
		'shortname' : '601-103-MQ-60-01',
		'name' : '24',
		'etudiants' : 0,
		'idnumber' : '601103MQ-60-01_24'
	},
	{
		'shortname' : '608-FPF-03-10-03',
		'name' : '3',
		'etudiants' : 0,
		'idnumber' : '608FPF03-10-03_3'
	}
];
    
    
    
    $(function(){
      series = Array();
      courses = Array();
       
       my_input.forEach( function(item){
         if (!series.hasOwnProperty(item.shortname)) { 
          series[item.shortname] = [];
           courses.push(item.shortname);
         }
         series[item.shortname].push([item.name, item.etudiants]);
       });
      
      //$.jqplot.config.enablePlugins = true;
      
      courses.forEach(function(item){
        id = 'graph_' + item;
        $('#graphs').append('<div id="' +id +'"></div>');
        $('div#'+id).css('display','inline-block');
        $('div#'+id).css('margin-left','50px');
        width_val = series[item].length * 100
        $('div#'+id).css('width', width_val + 'px');
        $('#'+id).jqplot([series[item]], {
          title:'Groups ' + item,
          seriesDefaults:{
              renderer:$.jqplot.BarRenderer,
              rendererOptions: {
                  // Set the varyBarColor option to true to use different colors for each bar.
                  // The default series colors are used.
                  varyBarColor: true
              },
              pointLabels: {show: true, formatString: '%d'},
          },
          axes:{
              xaxis:{
                  renderer: $.jqplot.CategoryAxisRenderer
              },
              yaxis:{
                  min: 0
              }
          }
        });
        
      });
    });
    
  </script>
</body>
</html>